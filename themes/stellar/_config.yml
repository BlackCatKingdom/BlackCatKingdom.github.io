######## Stellar info ########
stellar:
  version: '1.33.1'
  homepage: 'https://xaoxuu.com/wiki/stellar/'
  repo: 'https://github.com/xaoxuu/hexo-theme-stellar'
  main_css: /css/main.css
  main_js: /js/main.js


######## head tags ########
preconnect:
  # - https://gcore.jsdelivr.net
  # - https://gcore.jsdelivr.net
  # - https://unpkg.com

# 一旦设置源站地址，非源站地址将不会被SEO收录，并且访问时弹出提示
# 如果访问地址不在备用站主机列表，则警告信息为非法克隆
canonical:
  originalHost: # 主站点域名主机，例如 xaoxuu.com
  officialHosts: # 官方主机列表，每行一个，例如 xaoxuu.vercel.app
    - localhost

open_graph:
  enable: true
  twitter_id: # for open_graph meta

structured_data:
  links: [] # your social links.


######## Sidebar ########
# 左上角显示的 logo 区域，包含图标、大标题、副标题
logo:
  avatar: '[{config.avatar}](/about/)' # you can set avatar link in _config.yml or '[https://xxx.png](/about/)'
  title: '[{config.title}](/)' # you can set html tag like: '[<img no-lazy height="32px" src="xxx"/>](/)'
  subtitle: '{config.subtitle}' # '文字1 | 文字2' (鼠标放上去会切换到文字2)

# 侧边栏主功能导航菜单
menubar:
  columns: 4 # 一行多少个
  items: 
    - id: post
      theme: '#1BCDFC'
      icon: solar:documents-bold-duotone
      title: 博客
      url: /
    # --- 这里帮你配置好了 OKR 和 Wiki 入口 ---
    - id: wiki
      theme: '#FA6400'
      icon: solar:planet-bold-duotone
      title: 探索
      url: /wiki/explore/ 
    # --- 社交/友链入口 ---
    - id: social
      theme: '#F44336'
      icon: solar:chat-square-like-bold-duotone
      title: 社交
      url: /friends/


######## Main ########
# 站点主结构树
site_tree:
  # -- 列表类页面 -- #
  # 主页配置
  home:
    leftbar: social, welcome, recent  # ✅ 已添加 social
    rightbar: 
  # 博客列表页配置
  index_blog:
    base_dir: blog
    menu_id: post
    leftbar: social, welcome, recent  # ✅ 已添加 social
    rightbar: 
    nav_tabs: 
      # '朋友文章': /friends/rss/
  # 博客专栏列表页配置
  index_topic:
    base_dir: topic
    menu_id: post
  # 文档列表页配置
  index_wiki:
    base_dir: wiki
    menu_id: wiki
    leftbar: social, related, recent  # ✅ 我顺手帮你加了 social，保持统一
    rightbar: 
    nav_tabs:
      # 'more': https://github.com/xaoxuu
  # -- 内容类页面 -- #
  # 博客文章内页配置
  post:
    menu_id: post
    leftbar: social, related, recent  # ✅【关键修改】这里加了 social，看文章时菜单不会消失
    rightbar: ghrepo, toc
  # 博客专栏文章内页配置
  topic:
    menu_id: post
  # 文档内页配置
  wiki:
    menu_id: wiki
    leftbar: social, tree, related, recent # ✅【关键修改】这里加了 social
    rightbar: ghrepo, toc
  # 笔记本列表页配置
  notebooks:
    base_dir: notebooks
    menu_id: notebooks
    leftbar: recent
    rightbar: null
  # 笔记列表页配置
  notes:
    menu_id: notebooks
    leftbar: tagtree, recent
    rightbar: null
  # 笔记页配置
  note:
    leftbar: tagtree, recent
    rightbar: toc
  # 作者信息配置
  author: 
    base_dir: author
    menu_id: post
    leftbar: recent, timeline
    rightbar: timeline
  # 错误页配置
  error_page:
    menu_id: post
    '404': '/404.html'
    leftbar: recent, timeline
    rightbar: timeline
  # 其它自定义页面配置 layout: page
  page:
    leftbar: social, recent
    rightbar: toc


######## Notebook ########
notebook:
  auto_excerpt: 128
  tagcons:
    '': solar:hashtag-square-bold
  per_page: null
  order_by: -updated
  license: false
  share: false


######## Article ########
article:
  type: tech
  indent: # true / false
  cover_ratio: 2
  banner_ratio: 2.5
  auto_banner: false
  auto_excerpt: 128
  category_color:
    '探索号': '#f44336'
  license: '本文采用 [署名-非商业性使用-相同方式共享 4.0 国际](https://creativecommons.org/licenses/by-nc-sa/4.0/) 许可协议，转载请注明出处。'
  share: # [wechat, weibo, email, link]
  related_posts:
    enable: false
    max_count: 5

search:
  service: local_search
  local_search:
    field: all
    path: /search.json
    content: true
    skip_search: 
  algolia_search:
    appId: 
    apiKey: 
    indexName: 
    js: https://gcore.jsdelivr.net/algoliasearch/3/algoliasearch.min.js


######## Comments ########
comments:
  service: twikoo
  comment_title: 快来参与讨论吧~
  lazyload: false
  custom_css: 
  
  twikoo:
    js: https://gcore.jsdelivr.net/npm/twikoo@1.6/dist/twikoo.all.min.js
    envId: https://comments.seekblack.cn


######## Footer ########
footer:
  social:
  sitemap:
  content: | 
    本站由 [{author.name}](/) 使用 [{theme.name} {theme.version}]({theme.tree}) 主题创建。
    本博客所有文章除特别声明外，均采用 [CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/) 许可协议，转载请注明出处。


######## Tag Plugins ########
tag_plugins:
  note:
    default_color: ''
    border: true
  checkbox:
    interactive: false
  quot:
    default:
      prefix: bxs:quote-left
      suffix: bxs:quote-right
    hashtag:
      prefix: solar:hashtag-square-bold
    question:
      prefix: ph:seal-question-fill
  emoji:
    default: https://gcore.jsdelivr.net/gh/cdn-x/emoticons@3.1/qq/{name}.gif
    twemoji: https://gcore.jsdelivr.net/gh/twitter/twemoji/assets/svg/{name}.svg
    qq: https://gcore.jsdelivr.net/gh/cdn-x/emoticons@3.1/qq/{name}.gif
    aru: https://gcore.jsdelivr.net/gh/cdn-x/emoticons@3.1/aru/{name}.gif
    tieba: https://gcore.jsdelivr.net/gh/cdn-x/emoticons@3.1/tieba/{name}.png
    blobcat: https://gcore.jsdelivr.net/gh/cdn-x/emoticons@3.1/blobcat/{name}.gif
  icon:
    default_color: accent
  button:
    default_color: theme
  image:
    fancybox: false
  copy:
    toast: 复制成功
  timeline:
    max-height: 80vh
  mark:
    default_color: yellow
  hashtag:
    default_color: 
  okr:
    border: true
    status:
      in_track:
        color: blue
        label: 正常
      at_risk: 
        color: yellow
        label: 风险
      off_track:
        color: orange
        label: 延期
      finished:
        color: green
        label: 已完成
      unfinished:
        color: red
        label: 未完成
  gallery:
    layout: grid
    size: mix
    ratio: square
  chat:
    api: https://siteinfo.listentothewind.cn/api/v1


# 基础依赖
dependencies:
  jquery: https://gcore.jsdelivr.net/npm/jquery@3.7/dist/jquery.min.js
  marked: https://gcore.jsdelivr.net/npm/marked@13.0/lib/marked.umd.min.js
  lazyload:
    js: https://gcore.jsdelivr.net/npm/vanilla-lazyload@19.1/dist/lazyload.min.js
    transition: fade
    fix_ratio: true

# 内置服务
data_services:
  mdrender:
    js: /js/services/mdrender.js
  siteinfo:
    js: /js/services/siteinfo.js
    api: 
  ghinfo:
    js: /js/services/ghinfo.js
  rating:
    js: /js/services/rating.js
    api: https://star-vote.xaox.cc/api/rating
  vote:
    js: /js/services/vote.js
    api: https://star-vote.xaox.cc/api/vote
  sites:
    js: /js/services/sites.js
  friends:
    js: /js/services/friends.js
  friends_and_posts:
    js: /js/services/friends_and_posts.js
  timeline:
    js: /js/services/timeline.js
  fcircle:
    js: /js/services/fcircle.js
  weibo:
    js: /js/services/weibo.js
  memos:
    js: /js/services/memos.js
  voice: 
    js: /js/plugins/voice.js
  video: 
    js: /js/plugins/video.js
  download-file: 
    js: /js/plugins/download-file.js
  twikoo:
    js: /js/services/twikoo_latest_comment.js
  waline:
    js: /js/services/waline_latest_comment.js
  artalk:
    js: /js/services/artalk_latest_comment.js
  giscus:
    js: /js/services/giscus_latest_comment.js
  contributors:
    edit_this_page: 
      '_posts/': 
      'wiki/stellar/': https://github.com/xaoxuu/hexo-theme-stellar-docs/blob/main/
    js: /js/services/contributors.js


# 扩展插件
plugins:
  preload:
    enable: true
    service: flying_pages
    flying_pages: https://gcore.jsdelivr.net/npm/flying-pages@2/flying-pages.min.js

  fancybox:
    enable: true
    js: https://gcore.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.umd.js
    css: https://gcore.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.css
    selector: .timenode p>img

  swiper:
    enable: true
    css: https://unpkg.com/swiper@10.3/swiper-bundle.min.css
    js: https://unpkg.com/swiper@10.3/swiper-bundle.min.js

  scrollreveal:
    enable: 
    js: https://gcore.jsdelivr.net/npm/scrollreveal@4.0/dist/scrollreveal.min.js
    distance: 8px
    duration: 1000
    interval: 100
    scale: 1
  
  tianli_gpt: 
    enable: 
    js: https://jsd.onmicrosoft.cn/gh/qxchuckle/Post-Summary-AI@6.0/chuckle-post-ai.min.js
    field: post
    key: 5Q5mpqRK5DkwT1X9Gi5e
    total_length: 1000
    typewriter: true
    summary_directly: true
    rec_method: all
    hide_shuttle: true
    summary_toggle: false
    interface:
      name: AI摘要
      introduce: '我是文章辅助AI: QX-AI，点击下方的按钮，让我生成本文简介、推荐相关文章等。'
      version: TianliGPT
      button: ["介绍自己", "推荐文章", "生成摘要", "矩阵穿梭"]

  katex:
    enable: 

  mathjax:
    v3: false
    enable: 
    js: https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML

  mermaid:
    enable: 
    style_optimization: false
    js: https://gcore.jsdelivr.net/npm/mermaid@v9/dist/mermaid.min.js
    theme: neutral
  
  copycode:
    enable: true
    default_text: 'Copy'
    success_text: 'Copied'
    toast: 复制成功
  
  heti:
    enable: false
    css: https://unpkg.com/heti@0.9/umd/heti.min.css
    js: https://unpkg.com/heti@0.9/umd/heti-addon.min.js

# ✅ 复制这段代码，完全覆盖 _config.stellar.yml 里的 inject 部分
inject:
  head:
    # 1. 字体配置
    - <link rel="stylesheet" href="https://npm.elemecdn.com/lxgw-wenkai-screen-webfont/style.css">
    - <style>:root{--font-family-body:"LXGW WenKai Screen",sans-serif!important;--font-family-headings:"LXGW WenKai Screen",sans-serif!important;}body,h1,h2,h3,h4,h5,h6,.title,.text,.content{font-family:"LXGW WenKai Screen",sans-serif!important;}</style>
    
    # 2. 样式：强行显示五角星 + 红色主题
    - |
      <style>
      /* 隐藏主题默认的“书签”图标，防止挡住星星 */
      .widget-wrapper .widget-body .link.active .active-icon { display: none !important; }
      
      /* 给侧边栏激活项加五角星 ★ */
      .widget-wrapper .widget-body .item.active::after,
      .widget-wrapper .widget-body .link.active::after {
          content: "★";
          margin-left: auto; /* 把星星推到最右边 */
          margin-right: 8px; 
          font-size: 14px;
          display: inline-block;
          order: 99;
      }
      
      /* 激活项加粗 */
      .widget-wrapper .widget-body .item.active,
      .widget-wrapper .widget-body .link.active {
          font-weight: bold;
          border-radius: 4px;
      }
      
      /* 定义红色 (Social/友链页专用) */
      .style-social { color: #f44336 !important; background: rgba(244, 67, 54, 0.1) !important; }
      .style-social::after { color: #f44336; }
      
      /* 定义其他颜色 (保持之前的 Wiki 橙色等) */
      .style-wiki { color: #ff9800 !important; background: rgba(255, 152, 0, 0.1) !important; }
      .style-wiki::after { color: #ff9800; }
      .style-blog { color: #9c27b0 !important; background: rgba(156, 39, 176, 0.1) !important; }
      .style-blog::after { color: #9c27b0; }
      </style>

    # 3. 脚本：自动识别是友链页面，并染成红色
    - |
      <script>
      document.addEventListener("DOMContentLoaded", function() {
        var currentUrl = decodeURI(window.location.pathname);
        var links = document.querySelectorAll(".widget-wrapper .widget-body .item, .widget-wrapper .widget-body .link");
        var styleClass = "style-blog"; // 默认紫色
        
        // 判断当前是什么页面
        if (currentUrl.indexOf("/wiki/") !== -1) {
            styleClass = "style-wiki"; // 橙色
        } else if (currentUrl.indexOf("/friends/") !== -1 || currentUrl.indexOf("/about/") !== -1) {
            styleClass = "style-social"; // 红色 (这里让友链页变红)
        }
        
        links.forEach(function(link) {
          var href = decodeURI(link.getAttribute("href"));
          // 匹配链接高亮
          if (href === currentUrl || (href !== "/" && currentUrl.startsWith(href))) {
            link.classList.add("active");
            link.classList.add(styleClass);
          }
        });
        
        // 清理浏览器标题前缀
        if (document.title.startsWith("explore")) document.title = document.title.replace(/^explore[：:]\s?/, "");
        // 修正搜索框文字
        var searchInput = document.getElementById("search-input");
        if (searchInput && searchInput.getAttribute("placeholder").indexOf("/wiki/explore/") !== -1) {
            searchInput.setAttribute("placeholder", "在探索中搜索");
        }
      });
      </script>


style:
  prefers_theme: auto
  smooth_scroll: true
  font-size:
    root: 16px
    body: 17px
    code: 85%
    codeblock: 0.8125rem
  font-family:
    body: 'system-ui, "Microsoft Yahei", "Segoe UI", Arial, sans-serif'
    code: 'Menlo, Monaco, Consolas, system-ui, monospace, sans-serif'
    codeblock: 'Menlo, Monaco, Consolas, system-ui, monospace, sans-serif'
  text-align: left
  prefix:
    h2: https://api.iconify.design/ci:heading-h2.svg
  border-radius:
    card-l: 24px
    card: 16px
    card-s: 12px
    bar: 8px
    image-l: 24px
    image: 16px
    image-s: 8px
  color:
    theme: 'hsl(192 98% 55%)'
    accent: 'hsl(14 100% 57%)'
    link: 'hsl(207 90% 54%)'
  animated_avatar:
    animate: auto
    background: https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/avatar/round/rainbow64@3x.webp
  codeblock:
    scrollbar: 4px
    highlightjs_theme: https://gcore.jsdelivr.net/gh/highlightjs/cdn-release@11.9/build/styles/atom-one-dark.min.css
  loading:
    loading: 正在加载
    error: 加载失败，请稍后重试。
  gradient:
    start: 'linear-gradient(to right, hsl(215, 95%, 64%), hsl(195, 95%, 60%), hsl(165, 95%, 56%), hsl(165, 95%, 56%), hsl(195 95% 60%), hsl(215, 95%, 64%))'
  leftbar:
    background-color: var(--card)
    background-image: url(https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.13/image/sidebar-bg1@small.jpg)
    blur-px: 100px
    blur-bg: var(--bg-a60)
    background-opacity: 0.8
  paginator:
    prev: https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/arrow/f049bbd4e88ec.svg
    next: https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/arrow/064b95430caf4.svg
  error_page: https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/404/1c830bfcd517d.svg
  site:
    blur-px: 100px
    blur-bg: var(--bg-a75)
    blur-sat: 300%
  header_prefix:
    h2: '#'
    h3: '='
    h4: '|'
    h5: ':'


default:
  avatar: https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/avatar/round/3442075.svg
  link: https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/link/8f277b4ee0ecd.svg
  cover: https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/cover/76b86c0226ffd.svg
  image: https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/image/2659360.svg
  project: https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/image/2779789.png
  banner: https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/banner/books.jpg
  topic: https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/image/10433048.png
  loading: https://api.iconify.design/eos-icons:three-dots-loading.svg?color=%231cd0fd
  image_onerror: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2rem' height='2rem' viewBox='0 0 24 24'%3E%3C!-- Icon from Solar by 480 Design - https://creativecommons.org/licenses/by/4.0/ --%3E%3Cpath fill='%23F44336' d='M22 12.698c-.002 1.47-.013 2.718-.096 3.743c-.097 1.19-.296 2.184-.74 3.009a4.2 4.2 0 0 1-.73.983c-.833.833-1.893 1.21-3.237 1.39C15.884 22 14.2 22 12.053 22h-.106c-2.148 0-3.83 0-5.144-.177c-1.343-.18-2.404-.557-3.236-1.39c-.738-.738-1.12-1.656-1.322-2.795c-.2-1.12-.236-2.512-.243-4.241Q1.999 12.737 2 12v-.054c0-2.148 0-3.83.177-5.144c.18-1.343.557-2.404 1.39-3.236s1.893-1.21 3.236-1.39c1.168-.157 2.67-.175 4.499-.177a.697.697 0 1 1 0 1.396c-1.855.002-3.234.018-4.313.163c-1.189.16-1.906.464-2.436.994S3.72 5.8 3.56 6.99C3.397 8.2 3.395 9.788 3.395 12v.784l.932-.814a2.14 2.14 0 0 1 2.922.097l3.99 3.99a1.86 1.86 0 0 0 2.385.207l.278-.195a2.79 2.79 0 0 1 3.471.209l2.633 2.37c.265-.557.423-1.288.507-2.32c.079-.972.09-2.152.091-3.63a.698.698 0 0 1 1.396 0' opacity='.5'/%3E%3Cpath fill='%23F44336' fill-rule='evenodd' d='M17.5 11c-2.121 0-3.182 0-3.841-.659S13 8.621 13 6.5s0-3.182.659-3.841S15.379 2 17.5 2s3.182 0 3.841.659S22 4.379 22 6.5s0 3.182-.659 3.841S19.621 11 17.5 11m-1.47-7.03a.75.75 0 1 0-1.06 1.06l1.47 1.47l-1.47 1.47a.75.75 0 0 0 1.06 1.06l1.47-1.47l1.47 1.47a.75.75 0 1 0 1.06-1.06L18.56 6.5l1.47-1.47a.75.75 0 0 0-1.06-1.06L17.5 5.44z' clip-rule='evenodd'/%3E%3C/svg%3E"

api_host:
  ghapi: api.github.com
  ghraw: raw.githubusercontent.com
  gist: gist.github.com
  ghcard: github-readme-stats.vercel.app

system:
  override_pretty_urls: true