sidebar:
  logo: /images/uploads/cat.jpg

comments:
  service: twikoo

twikoo:
  envId: https://comments.seekblack.cn

# ğŸ‘‡ æ ¸å¿ƒä»£ç ï¼šJS å¼ºåˆ¶æ³¨å…¥èœå• + æ ·å¼ä¿®æ­£ ğŸ‘‡
inject:
  head:
    - <link rel="stylesheet" href="https://npm.elemecdn.com/lxgw-wenkai-screen-webfont/style.css">
    - <style>:root{--font-family-body:"LXGW WenKai Screen",sans-serif!important;--font-family-headings:"LXGW WenKai Screen",sans-serif!important;}body,h1,h2,h3,h4,h5,h6,.title,.text,.content{font-family:"LXGW WenKai Screen",sans-serif!important;}</style>
    - |
      <style>
      /* 1. éšè—å¹²æ‰°å›¾æ ‡ */
      .widget-wrapper .widget-body .link.active .active-icon { display: none !important; }
      
      /* 2. çº¢è‰²äº”è§’æ˜Ÿç‰¹æ•ˆ */
      .widget-wrapper .widget-body .item.active::after,
      .widget-wrapper .widget-body .link.active::after {
          content: "â˜…";
          margin-left: auto;
          margin-right: 8px;
          font-size: 14px;
          color: #f44336; 
          display: inline-block;
          order: 99;
      }
      
      /* 3. å¼ºåˆ¶å¯¹é½ä¿®æ­£ */
      .widget-wrapper .linklist .link {
          display: flex !important;
          align-items: center !important;
          justify-content: flex-start !important; 
          gap: 4px !important; 
      }
      
      /* 4. æ¿€æ´»é¡¹åŠ ç²— */
      .widget-wrapper .widget-body .item.active,
      .widget-wrapper .widget-body .link.active {
          font-weight: bold;
          border-radius: 4px;
      }
      
      /* 5. é¢œè‰²å®šä¹‰ */
      .style-social { color: #f44336 !important; background: rgba(244, 67, 54, 0.1) !important; }
      .style-social::after { color: #f44336; }
      .style-wiki { color: #ff9800 !important; background: rgba(255, 152, 0, 0.1) !important; }
      .style-wiki::after { color: #ff9800; }
      .style-blog { color: #9c27b0 !important; background: rgba(156, 39, 176, 0.1) !important; }
      .style-blog::after { color: #9c27b0; }
      </style>
    - |
      <script>
      document.addEventListener("DOMContentLoaded", function() {
        var currentUrl = decodeURI(window.location.pathname);
        var isFriendsPage = currentUrl.indexOf("/friends/") !== -1;
        var isAboutPage = currentUrl.indexOf("/about/") !== -1;

        // ã€æ ¸å¼¹é€»è¾‘ã€‘: åªè¦æ˜¯å‹é“¾é¡µ æˆ–è€… å…³äºé¡µï¼Œéƒ½å¼ºåˆ¶æ’å…¥èœå•ï¼
        if (isFriendsPage || isAboutPage) {
            var searchWidget = document.getElementById('search-wrapper');
            var existingMenu = document.querySelector('.widget-wrapper.linklist');
            
            // é˜²æ­¢é‡å¤æ’å…¥
            if (searchWidget && !existingMenu) {
                var menuHtml = `
                <widget class="widget-wrapper linklist">
                    <div class="widget-header dis-select"><span class="name">ç¤¾äº¤</span></div>
                    <div class="widget-body fs14">
                        <div class="linklist left">
                            <a class="link ${isFriendsPage ? 'active' : ''}" title="å°ä¼™ä¼´ä»¬" href="/friends/">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5S5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05c1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z" opacity=".5"/></svg>
                                <span>å°ä¼™ä¼´ä»¬</span>
                            </a>
                            <a class="link ${isAboutPage ? 'active' : ''}" title="å…³äºæœ¬ç«™" href="/about/">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" d="m13.629 20.472l-.542.916c-.483.816-1.69.816-2.174 0l-.542-.916c-.42-.71-.63-1.066-.968-1.262c-.338-.197-.763-.204-1.613-.219c-1.256-.021-2.043-.098-2.703-.372a5 5 0 0 1-2.706-2.706C2 14.995 2 13.83 2 11.5v-1c0-3.273 0-4.91.737-6.112a5 5 0 0 1 1.65-1.651C5.59 2 7.228 2 10.5 2h3c3.273 0 4.91 0 6.113.737a5 5 0 0 1 1.65 1.65C22 5.59 22 7.228 22 10.5v1c0 2.33 0 3.495-.38 4.413a5 5 0 0 1-2.707 2.706c-.66.274-1.447.35-2.703.372c-.85.015-1.275.022-1.613.219c-.338.196-.548.551-.968 1.262" opacity=".5"/><path fill="currentColor" d="M10.99 14.308c-1.327-.978-3.49-2.84-3.49-4.593c0-2.677 2.475-3.677 4.5-1.609c2.025-2.068 4.5-1.068 4.5 1.609c0 1.752-2.163 3.615-3.49 4.593c-.454.335-.681.502-1.01.502c-.329 0-.556-.167-1.01-.502"/></svg>
                                <span>å…³äºæœ¬ç«™</span>
                            </a>
                        </div>
                    </div>
                </widget>`;
                searchWidget.insertAdjacentHTML('afterend', menuHtml);
            }
        }

        // é«˜äº®ä¸é¢œè‰²é€»è¾‘
        var links = document.querySelectorAll(".widget-wrapper .widget-body .item, .widget-wrapper .widget-body .link");
        var styleClass = "style-blog";
        if (currentUrl.indexOf("/wiki/") !== -1) { styleClass = "style-wiki"; } 
        else if (isFriendsPage || isAboutPage) { styleClass = "style-social"; }
        
        links.forEach(function(link) {
          var href = decodeURI(link.getAttribute("href"));
          if (href === currentUrl || (href !== "/" && currentUrl.startsWith(href))) {
            link.classList.add("active");
            link.classList.add(styleClass);
          }
        });
        
        // æ‚é¡¹æ¸…ç†
        var searchInput = document.getElementById("search-input");
        if (searchInput && searchInput.getAttribute("placeholder").indexOf("/wiki/explore/") !== -1) {
            searchInput.setAttribute("placeholder", "åœ¨æ¢ç´¢ä¸­æœç´¢");
        }
        if (document.title.startsWith("explore")) document.title = document.title.replace(/^explore[ï¼š:]\s?/, "");
      });
      </script>